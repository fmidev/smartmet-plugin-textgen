# FOREST FIRE WARNINGS

forestfirewarning:
{
	directory = "/data/pal/txt/varo/palo";

	# Kaikki 432 kuntaa, voimassa 1.1.2005.
	# Annettu arvo vastaa metsäpaloalueen koodinumeroa, joko
	# on joko maakunnan numero tai kunnalle erikseen annettu numero.

	areacodes:
	{
		aanekoski		= 13;
		aetsa			= 6;
		ahtari			= 14;
		alaharma		= 14;
		alajarvi		= 14;
		alastaro		= 2;
		alavieska		= 17;
		alavus			= 14;
		anjalankoski		= 8;
		artjarvi		= 7;
		asikkala		= 7;
		askainen		= 2;
		askola			= 3;
		aura			= 2;
		brando			= 20;
		dragsfjard		= 2;
		eckero			= 20;
		elimaki			= 8;
		eno			= 12;
		enonkoski		= 10;
		enontekio		= 46;
		espoo			= 1;
		eura			= 4;
		eurajoki		= 4;
		evijarvi		= 14;
		finstrom		= 20;
		foglo			= 20;
		forssa			= 5;
		geta			= 20;
		haapajarvi		= 17;
		haapavesi		= 17;
		hailuoto		= 17;
		halikko			= 2;
		halsua			= 16;
		hameenkoski		= 7;
		hameenkyro		= 6;
		hameenlinna		= 5;
		hamina			= 8;
		hammarland		= 20;
		hankasalmi		= 13;
		hanko			= 1;
		harjavalta		= 4;
		hartola			= 7;
		hattula			= 5;
		hauho			= 5;
		haukipudas		= 17;
		haukivuori		= 10;
		hausjarvi		= 5;
		heinavesi		= 10;
		heinola			= 7;
		helsinki		= 1;
		himanka			= 16;
		hirvensalmi		= 10;
		hollola			= 7;
		honkajoki		= 4;
		houtskari		= 2;
		huittinen		= 4;
		humppila		= 5;
		hyrynsalmi		= 18;
		hyvinkaa		= 1;
		ii			= 17;
		iisalmi			= 11;
		iitti			= 8;
		ikaalinen		= 6;
		ilmajoki		= 14;
		ilomantsi		= 12;
		imatra			= 9;
		inari			= 44;
		inio			= 2;
		inkoo			= 1;
		isojoki			= 14;
		isokyro			= 15;
		jaala			= 8;
		jalasjarvi		= 14;
		jamijarvi		= 4;
		jamsa			= 13;
		jamsankoski		= 13;
		janakkala		= 5;
		jarvenpaa		= 1;
		joensuu			= 12;
		jokioinen		= 5;
		jomala			= 20;
		joroinen		= 10;
		joutsa			= 13;
		joutseno		= 9;
		juankoski		= 11;
		jurva			= 14;
		juuka			= 12;
		juupajoki		= 6;
		juva			= 10;
		jyvaskyla		= 13;
		jyvaskylan_mlk		= 13;
		kaarina			= 2;
		kaavi			= 11;
		kajaani			= 18;
		kalajoki		= 17;
		kalvia			= 16;
		kalvola			= 5;
		kangasala		= 6;
		kangasniemi		= 10;
		kankaanpaa		= 4;
		kannonkoski		= 13;
		kannus			= 16;
		karijoki		= 14;
		karjaa			= 1;
		karjalohja		= 1;
		karkkila		= 1;
		karkola			= 7;
		karsamaki		= 17;
		karstula		= 13;
		karttula		= 11;
		karvia			= 4;
		kaskinen		= 15;
		kauhajoki		= 14;
		kauhava			= 14;
		kauniainen		= 1;
		kaustinen		= 16;
		keitele			= 11;
		kemi			= 25;
		kemijarvi		= 33;
		keminmaa		= 27;
		kemio			= 2;
		kempele			= 17;
		kerava			= 1;
		kerimaki		= 10;
		kesalahti		= 12;
		kestila			= 17;
		keuruu			= 13;
		kihnio			= 6;
		kiikala			= 2;
		kiikoinen		= 4;
		kiiminki		= 17;
		kinnula			= 13;
		kirkkonummi		= 1;
		kisko			= 2;
		kitee			= 12;
		kittila			= 40;
		kiukainen		= 4;
		kiuruvesi		= 11;
		kivijarvi		= 13;
		kodisjoki		= 4;
		kokar			= 20;
		kokemaki		= 4;
		kokkola			= 16;
		kolari			= 38;
		konnevesi		= 13;
		kontiolahti		= 12;
		korpilahti		= 13;
		korppoo			= 2;
		korsnas			= 15;
		kortesjarvi		= 14;
		koski_tl		= 2;
		kotka			= 8;
		kouvola			= 8;
		koylio			= 4;
		kristiinankaupunki	= 15;
		kruunupyy		= 15;
		kuhmalahti		= 6;
		kuhmo			= 18;
		kuhmoinen		= 13;
		kuivaniemi		= 17;
		kumlinge		= 20;
		kuopio			= 11;
		kuortane		= 14;
		kurikka			= 14;
		kuru			= 6;
		kustavi			= 2;
		kuusamo			= 24;
		kuusankoski		= 8;
		kuusjoki		= 2;
		kylmakoski		= 6;
		kyyjarvi		= 13;
		lahti			= 7;
		laihia			= 15;
		laitila			= 2;
		lammi			= 5;
		langelmaki		= 6;
		lapinjarvi		= 3;
		lapinlahti		= 11;
		lappajarvi		= 14;
		lappeenranta		= 9;
		lappi			= 4;
		lapua			= 14;
		laukaa			= 13;
		lavia			= 4;
		lehtimaki		= 14;
		leivonmaki		= 13;
		lemi			= 9;
		lemland			= 20;
		lempaala		= 6;
		lemu			= 2;
		leppavirta		= 11;
		lestijarvi		= 16;
		lieksa			= 12;
		lieto			= 2;
		liljendal		= 3;
		liminka			= 17;
		liperi			= 12;
		lohja			= 1;
		lohtaja			= 16;
		loimaa			= 2;
		loppi			= 5;
		loviisa			= 3;
		luhanka			= 13;
		lumijoki		= 17;
		lumparland		= 20;
		luopioinen		= 6;
		luoto			= 15;
		luumaki			= 9;
		luvia			= 4;
		maalahti		= 15;
		maaninka		= 11;
		maarianhamina		= 20;
		maksamaa		= 15;
		mantsala		= 1;
		mantta			= 6;
		mantyharju		= 10;
		marttila		= 2;
		masku			= 2;
		mellila			= 2;
		merijarvi		= 17;
		merikarvia		= 4;
		merimasku		= 2;
		miehikkala		= 8;
		mietoinen		= 2;
		mikkeli			= 10;
		mouhijarvi		= 6;
		muhos			= 17;
		multia			= 13;
		muonio			= 39;
		mustasaari		= 15;
		muurame			= 13;
		muurla			= 2;
		mynamaki		= 2;
		myrskyla		= 3;
		naantali		= 2;
		nakkila			= 4;
		narpio			= 15;
		nastola			= 7;
		nauvo			= 2;
		nilsia			= 11;
		nivala			= 17;
		nokia			= 6;
		noormarkku		= 4;
		nousiainen		= 2;
		nummipusula		= 1;
		nurmes			= 12;
		nurmijarvi		= 1;
		nurmo			= 14;
		oravainen		= 15;
		orimattila		= 7;
		oripaa			= 2;
		orivesi			= 6;
		oulainen		=  17;
		oulu			= 17;
		oulunsalo		= 17;
		outokumpu		= 12;
		padasjoki		= 7;
		paimio			= 2;
		palkane			= 6;
		paltamo			= 18;
		parainen		= 2;
		parikkala		= 9;
		parkano			= 6;
		pedersoren_kunta	= 15;
		pelkosenniemi		= 42;
		pello			= 37;
		perho			= 16;
		pernaja			= 3;
		pernio			= 2;
		pertteli		= 2;
		pertunmaa		= 10;
		petajavesi		= 13;
		pieksamaki		= 10;
		pieksanmaa		= 10;
		pielavesi		= 11;
		pietarsaari		= 15;
		pihtipudas		= 13;
		piikkio			= 2;
		piippola		= 17 ;
		pirkkala		= 6;
		pohja			= 1;
		polvijarvi		= 12;
		pomarkku		= 4;
		pori			= 4;
		pornainen		= 1;
		porvoo			= 3;
		posio			= 31;
		poytya			= 2;
		pudasjarvi		= 22;
		pukkila			= 3;
		pulkkila		= 17;
		punkaharju		= 10;
		punkalaidun		= 4;
		puolanka		= 18;
		puumala			= 10;
		pyhajarvi		= 17;
		pyhajoki		= 17;
		pyhanta			= 17;
		pyharanta		= 2;
		pyhaselka		= 12;
		pyhtaa			= 8;
		pylkonmaki		= 13;
		raahe			= 17;
		raakkyla		= 12;
		raisio			= 2;
		rantasalmi		= 10;
		rantsila		= 17;
		ranua			= 30;
		rauma			= 4;
		rautalampi		= 11;
		rautavaara		= 11;
		rautjarvi		= 9;
		reisjarvi		= 17;
		renko			= 5;
		riihimaki		= 5;
		ristiina		= 10;
		ristijarvi		= 18;
		rovaniemen_mlk		= 34;
		rovaniemi		= 35;
		ruokolahti		= 9;
		ruotsinpyhtaa		= 3;
		ruovesi			= 6;
		rusko			= 2;
		ruukki			= 17;
		rymattyla		= 2;
		saarijarvi		= 13;
		sakyla			= 4;
		salla			= 32;
		salo			= 2;
		saltvik			= 20;
		sammatti		= 1;
		sarkisalo		= 2;
		sauvo			= 2;
		savitaipale		= 9;
		savonlinna		= 10;
		savonranta		= 10;
		savukoski		= 43;
		seinajoki		= 14;
		sievi			= 17;
		siikainen		= 4;
		siikajoki		= 17;
		siilinjarvi		= 11;
		simo			= 29;
		sipoo			= 3;
		siuntio			= 1;
		sodankyla		= 41;
		soini			= 14;
		somero			= 2;
		sonkajarvi		= 11;
		sotkamo			= 18;
		sottunga		= 20;
		sulkava			= 10;
		sumiainen		= 13;
		sund			= 20;
		suodenniemi		= 6;
		suolahti		= 13;
		suomenniemi		= 9;
		suomusjarvi		= 2;
		suomussalmi		= 18;
		suonenjoki		= 11;
		sysma			= 7;
		taipalsaari		= 9;
		taivalkoski		= 23;
		taivassalo		= 2;
		tammela			= 5;
		tammisaari		= 1;
		tampere			= 6;
		tarvasjoki		= 2;
		tervo			= 11;
		tervola			= 28;
		teuva			= 14;
		tohmajarvi		= 12;
		toholampi		= 16;
		toijala			= 6;
		toivakka		= 13;
		tornio			= 26;
		toysa			= 14;
		turku			= 2;
		tuulos			= 5;
		tuusniemi		= 11;
		tuusula			= 1;
		tyrnava			= 17;
		ullava			= 16;
		ulvila			= 4  ;
		urjala			= 6;
		utajarvi		= 17;
		utsjoki			= 45;
		uurainen		= 13;
		uusikaarlepyy		= 15;
		uusikaupunki		= 2;
		vaala			= 18;
		vaasa			= 15;
		vahakyro		= 15;
		vahto			= 2;
		valkeakoski		= 6;
		valkeala		= 8;
		valtimo			= 12;
		vammala			= 6;
		vampula			= 4;
		vantaa			= 1;
		vardo			= 20;
		varkaus			= 11;
		varpaisjarvi		= 11;
		vastanfjard		= 2;
		vehmaa			= 2;
		velkua			= 2;
		vesanto			= 11;
		vesilahti		= 6;
		veteli			= 16;
		vierema			= 11;
		vihanti			= 17;
		vihti			= 1;
		viiala			= 6;
		viitasaari		= 13;
		viljakkala		= 6;
		vilppula		= 6;
		vimpeli			= 14;
		virolahti		= 8;
		virrat			= 6;
		voyri			= 15;
		vuolijoki		= 18;
		ylamaa			= 9;
		ylane			= 2;
		yliharma		= 14;
		yliii			= 17;
		ylikiiminki		= 17;
		ylistaro		= 14;
		ylitornio		= 36;
		ylivieska		= 17;
		ylojarvi		= 6;
		ypaja			= 5;
		};
};

# ======================================================================
#			Kirjasto-osan kontrolli;
# ======================================================================

# ----------------------------------------------------------------------
# Ennustedata eri parametreille
# ----------------------------------------------------------------------

unit_format:
{
	celsius		= "phrase";
	meterspersecond	= "phrase";
	millimeters	= "phrase";
	percent		= "phrase";
};

# querydata definitons
querydata:
{
        pal_skandinavia_pintahistoria = "/smartmet/data/pal/skandinavia/pintahistoria/querydata/";
        pal_skandinavia_maanpinta = "/smartmet/data/pal/skandinavia/maanpinta/querydata/";
        kriging_suomi_snow = "/smartmet/data/kriging/suomi/snow/querydata/";
        pal_suomi_kasvukausi = "/smartmet/data/pal/suomi/kasvukausi/querydata/";
        klimatologia = "/smartmet/data/climate/suomi/daily/querydata/tmax_textgen.sqd";
	forest_forecast	= "/smartmet/data/metsapalomalli/suomi/pinta/querydata/";
};

# forecast data definitions
forecast_data:
{
        default_forecast                        = "use querydata.pal_skandinavia_pintahistoria";

	forestfireindex_forecast		= "use querydata.forest_forecast";
	evaporation_forecast			= "use querydata.forest_forecast";
	precipitation_forecast			= "use querydata.pal_skandinavia_pintahistoria";
        severefrost_forecast                    = "use querydata.pal_skandinavia_maanpinta";
        frost_forecast                          = "use querydata.pal_skandinavia_maanpinta";
        effectivetemperaturesum_forecast        = "use querydata.pal_suomi_kasvukausi";
        waterequivalentofsnow_forecast          = "use querydata.kriging_suomi_snow";
        fractiles_climatology                   = "use querydata.klimatologia";
};

# mysql dictionary database definitions
mysql_dictionary:
{
        host            = "mysli.fmi.fi";
        username        = "textgen";
        password        = "w1w2w3";
        database        = "textgen2";
};

# PostGIS database definitions
postgis:
{
	default:
	{
		host		= "gemini.fmi.fi";
		port    	= "5432";
		database	= "gis";
		username	= "gis_user";
		password	= "u5VW3znx/7o=";
		client_encoding	= "UTF8";
		schema		= "fminames";
		table		= "kunnat";
		field		= "kuntanimi";	
	};

        config_items = ["suomen_kunnat","suomen_maakunnat"];

        suomen_kunnat:
        {
                table   = "kunnat";
                field   = "kuntanimi";  
        };

        suomen_maakunnat:
        {
                table   = "maakunnat";
                field   = "maaknimi";   
        };
};



# ----------------------------------------------------------------------
# Tekstin kontrollointi
# ----------------------------------------------------------------------

output_document:
{
	sections = [ "title", "part1", "part3", "part4" ];

	title:
	{
		period: { type = "now"; };
		header:
		{
			type = "report_area";
			colon = false;
			html: { level = 2; };
		};
		content	= "none";
	};

	part1:
	{
		header: { type = "until"; };
		subperiods = true;

		period:
		{
			type = "until";
			days = 1;
			starthour = 6;
			endhour = 18;
			switchhour = 13;
		};

		subperiod:
		{
			day:
			{
				starthour = 6;
				endhour = 6;
				maxstarthour = 12;
				minendhour = 18;
			};
		};

		content = [
			"weather_overview",
			"pop_days",
			"weather_thunderprobability",
			"wind_daily_ranges",
			"relativehumidity_lowest",
			"forestfirewarning_county",
			"forestfireindex_twodays",
			"evaporation_day",
			"temperature_day",
			"frost_twonights"
			];

		story:
		{
			weather_overview:
			{
				day:
				{
					starthour = 0;
					endhour = 0;
					maxstarthour = 12;
					minendhour = 18;
				};

				merge_same = true;
				merge_similar = true;

				rainyperiod:
				{
					maximum_interval = 3;
					night: { maximum_interval = 4; };
				};

				days:  { phrases = "today,tomorrow,weekday"; };
				today: { phrases = "today,tomorrow,weekday"; };
			};

			pop_days:
			{
				negate = true;

				day:
				{
					starthour = 0;
					endhour = 0;
					maxstarthour = 12;
					minendhour = 18;
				};

				today:    { phrases = "none!"; };
				next_day: { phrases = "none!"; };

				precision = 10;
				minimum = 10;
       				maximum = 90;

				comparison:
				{
					significantly_greater = 50;
       					greater = 20;
					somewhat_greater = 10;
					somewhat_smaller = 10;
					smaller = 20;
					significantly_smaller = 50;
				};

				rangeseparator = "...";
			};

			forestfireindex_twodays:
			{
				day:
				{
					starthour = 9;
					endhour = 21;
					maxstarthour = 12;
					minendhour = 18;
				};

				today:    { phrases = "none!"; };
				next_day: { phrases = "tomorrow,next_day"; };

				rangeseparator = "...";
			};

			evaporation_day:
			{
			        day:
				{
					starthour = 6;
					endhour = 21;
					maxstarthour = 6;
					minendhour = 18;
				};
						
				today:    { phrases = "none!"; };
				next_day: { phrases = "tomorrow,next_day"; };
			};


			weather_thunderprobability:
			{
				precision = 10;
				limit = 10;

				rangeseparator = "...";
			};

			wind_daily_ranges:
			{
				day:
				{
					starthour = 4;
					maxstarthour = 12;
					endhour = 21;
					minendhour = 18;
				};

				today:     { phrases = "none!,today,tomorrow,weekday"; };
				next_day:  { phrases = "none,tomorrow,weekday"; };
				next_days: { phrases = "none,tomorrow,weekday"; };

				mininterval = 0;

				same:
				{
					minimum = 1;
					maximum = 1;
				};

				direction:
				{
					accurate = 22.5;
					variable = 45;
				};

				rangeseparator = "...";
			};

			temperature_day:
			{
			        today:   { phrases = "today,tomorrow,weekday"; };
				tonight: { phrases = "none,tomorrow,followingday"; };

				day:
				{
					starthour = 6;
					maxstarthour = 11;
					endhour = 18;
				};

				night:
				{
					starthour = 18;
					endhour = 6;
				};

				comparison:
				{
					significantly_higher = 6;
					higher = 3;
					somewhat_higher = 2;
					somewhat_lower = 2;
					lower = 3;
					significantly_lower = 6;
				};

				always_zero_interval = true;

			};

			frost_twonights:
			{
				night:
				{
					starthour = 18;
					maxstarthour = 23;
					endhour = 6;
				};
				precision = 10;
				severe_frost_limit = 10;
				frost_limit = 10;

				rangeseparator = "...";
			};

			relativehumidity_lowest:
			{
			       today:    { phrases = "none!,today,tomorrow,weekday"; };
			       next_day: { phrases = "none,tomorrow,weekday"; };

			       day:
				{
					maxstarthour = 14;
					minendhour = 18;
				};

				precision = 10;

				comparison:
				{
					significantly_greater = 50;
					greater = 20;
					somewhat_greater = 10;
					somewhat_smaller = 10;
					smaller = 20;
					significantly_smaller = 50;
				};

				rangeseparator = "...";
			};
		};
	};

	part3:
	{
		header:
		{
			type = "from_until";
			colon = true;
			html: { level = 3; };
		};

		period:
		{
			type = "from_until";
			starthour = 18;
			startday = 1;
			switchhour = 13;
			days = 3;
			endhour = 6;
		};

		content = [
			"weather_shortoverview",
			"temperature_weekly_minmax"
		];

		story:
		{
			weather_shortoverview:
			{
				cloudiness:
				{
					fullrange = false;
					day:
					{
						starthour = 6;
						endhour = 21;
					};
	
					clear = 40;
					cloudy = 70;
					single_limit = 60;
					double_limit = 85;
				};
	
				precipitation:
				{
					day:
					{
						starthour = 0;
						endhour = 0;
					};
	
					rainy_limit = 2;
					partly_raily_limit = 0.1;
					unstable_limit = 50;
				};
			};
	
			temperature_weekly_minmax:
			{
				day:
				{
					starthour = 6;
					endhour = 18;
				};
				night:
				{
					starthour = 18;
					endhour = 6;
				};
			
				rangeseparator = "...";
			};
		};
	};

	part4:
	{
		header:
		{
			type = "from_until";
			colon = true;
			html: { level = 3; };
		};

		period:
		{
			type = "from_until";
			starthour = 6;
			startday = 4;
			switchhour = 13;
			days = 3;
			endhour = 6;
		};

		content = [
			"weather_shortoverview"
		];

		story:
		{
			weather_shortoverview:
			{
				cloudiness:
				{
					fullrange = false;
					day:
					{
						starthour = 6;
						endhour = 21;
					};
					clear = 40;
					cloudy = 70;
					single_limit = 60;
					double_limit = 85;
				};
	
				precipitation:
				{
					day:
					{
						starthour = 0;
						endhour = 0;
					};
	
					rainy_limit = 2;
					partly_raily_limit = 0.1;
					unstable_limit = 50;
				};
			};
		};
	};
};
